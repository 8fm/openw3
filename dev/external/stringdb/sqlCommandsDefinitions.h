
WCHAR* insertQuery = L"INSERT INTO [STRINGS]"
L"([STRING_ID] "
L",[LANG] "
L",[VERSION] "
L",[TEXT] "
L",[USER] "
L",[MODIFICATION_DATE]) "
L"SELECT "
L"%PARAM_STRID% "
L",%PARAM_LANG% "
L", COALESCE( (SELECT max([VERSION])+1 "
L"FROM [STRINGS] WHERE [STRING_ID]=%PARAM_STRID% ), 1) "
L",%PARAM_TEXT% "
L",CURRENT_USER "
L",CURRENT_TIMESTAMP";

/*
Creates new string in STRINGS table as a copy of existing string, all translations and historical versions are preserved.

\param %PARAM_SOURCE_STRID% Id of a source string.
\param %PARAM_DEST_STRID% Id that is to be assigned to string created as a copy of source string.

This query copies all STRING table rows belonging to string %PARAM_SOURCE_STRID% and inserts them
to the same table with id %PARAM_DEST_STRID%. No STRING_INFO table row is created for new string.
*/
WCHAR* copyStringWithoutInfoQuery =
L"INSERT INTO [STRINGS] ([STRING_ID], [LANG], [VERSION], [TEXT], [USER], [MODIFICATION_DATE]) "
L"SELECT %PARAM_DEST_STRID%, [LANG], [VERSION], [TEXT], [USER], [MODIFICATION_DATE] FROM [STRINGS] WHERE [STRING_ID] = %PARAM_SOURCE_STRID%";

WCHAR* insertInfoQuery = 
L"INSERT INTO [STRING_INFO] "
L"([STRING_ID] "
L",[RESOURCE] "
L",[PROPERTY_NAME]"
L",[VOICEOVER_NAME] "
L",[STRING_KEY]) "
L"VALUES "
L"(%PARAM_STRID% "
L",%PARAM_RESOURCE% "
L",%PARAM_PROPERTY_NAME% "
L",%PARAM_VOICEOVER_NAME% "
L",%PARAM_STRINGKEY%)";

WCHAR* updateInfoQuery = 
L"UPDATE [STRING_INFO] SET "
L"[RESOURCE] = %PARAM_RESOURCE%, "
L"[PROPERTY_NAME] = %PARAM_PROPERTY_NAME%, "
L"[VOICEOVER_NAME] = %PARAM_VOICEOVER_NAME%, "
L"[STRING_KEY] = %PARAM_STRINGKEY% "
L"WHERE "
L"[STRING_ID] = %PARAM_STRID%";

WCHAR* getTextQuery = 
L"SELECT [TEXT] from [STRINGS_VIEW] where VERSION= "
L"(SELECT max([VERSION]) "
L"FROM [STRINGS_VIEW] WHERE [STRING_ID]=%PARAM_STRID% AND LANG=%PARAM_LANG%) "
L"AND [STRING_ID]=%PARAM_STRID%";

WCHAR* getCountQuery = L"SELECT COUNT(1) from [STRINGS] where [STRING_ID]=%PARAM_STRID%";

WCHAR* getNextIdQuery = L"SELECT max([STRING_ID])+1 FROM [STRINGS] AS STRING_ID";
WCHAR* getNextIdQuery2 = L"SELECT max([STRING_ID])+1 FROM [STRING_INFO] AS STRING_ID";

WCHAR* getTextQueryFallback = 
L"SELECT COALESCE("
L"( SELECT TOP 1 [STRINGS_VIEW].[TEXT] FROM [STRINGS_VIEW] WHERE [STRINGS_VIEW].[STRING_ID] = %PARAM_STRID% AND [STRINGS_VIEW].[LANG] = %PARAM_LANG% ORDER BY [STRINGS_VIEW].[VERSION] DESC ),"
L"( SELECT TOP 1 '[' + [FALLBACKS].[FALLBACK_LANG] + '] ' + [STRINGS_VIEW].[TEXT] FROM [STRINGS_VIEW] INNER JOIN [FALLBACKS] ON [STRINGS_VIEW].[LANG] = [FALLBACKS].[FALLBACK_ID]" 
L"WHERE [STRINGS_VIEW].[STRING_ID] = %PARAM_STRID% AND [FALLBACKS].[ID] = %PARAM_LANG% ORDER BY [STRINGS_VIEW].[VERSION] DESC )"
L")";

WCHAR* getTextQueryFallbackDeep = 
L"SELECT COALESCE("
L"( SELECT TOP 1 [STRINGS_VIEW].[TEXT] FROM [STRINGS_VIEW] WHERE [STRINGS_VIEW].[STRING_ID] = %PARAM_STRID% AND [STRINGS_VIEW].[LANG] = %PARAM_LANG% ORDER BY [STRINGS_VIEW].[VERSION] DESC ),"
L"( SELECT TOP 1 '[' + [FALLBACKS].[FALLBACK_LANG] + '] ' + [STRINGS_VIEW].[TEXT] FROM [STRINGS_VIEW] INNER JOIN [FALLBACKS] ON [STRINGS_VIEW].[LANG] = [FALLBACKS].[FALLBACK_ID]" 
L"WHERE [STRINGS_VIEW].[STRING_ID] = %PARAM_STRID% AND [FALLBACKS].[ID] = %PARAM_LANG% ORDER BY [STRINGS_VIEW].[VERSION] DESC ),"
L"( SELECT TOP 1 '[' + f1.[FALLBACK_LANG] + '] ' + [STRINGS_VIEW].[TEXT] FROM [STRINGS_VIEW] INNER JOIN [FALLBACKS] f1 ON [STRINGS_VIEW].[LANG] = f1.[FALLBACK_ID]"
L"INNER JOIN [FALLBACKS] f2 ON f1.[ID] = f2.[FALLBACK_ID]" 
L"WHERE [STRINGS_VIEW].[STRING_ID] = %PARAM_STRID% AND f2.[ID] = %PARAM_LANG% ORDER BY [STRINGS_VIEW].[VERSION] DESC )"
L")";


WCHAR* lanquagePackDataQuery = 
L"SELECT COALESCE("
L"( SELECT TOP 1 [STRINGS_VIEW].[TEXT] FROM [STRINGS_VIEW] WHERE [STRINGS_VIEW].[STRING_ID] = [STRING_INFO].[STRING_ID] AND [STRINGS_VIEW].[LANG] = %PARAM_LANG% ORDER BY [STRINGS_VIEW].[VERSION] DESC ),"
L"( SELECT TOP 1 '[' + [FALLBACKS].[FALLBACK_LANG] + '] ' + [STRINGS_VIEW].[TEXT] FROM [STRINGS_VIEW] INNER JOIN [FALLBACKS] ON [STRINGS_VIEW].[LANG] = [FALLBACKS].[FALLBACK_ID] "
L"WHERE [STRINGS_VIEW].[STRING_ID] = [STRING_INFO].[STRING_ID] AND [FALLBACKS].[ID] = %PARAM_LANG% ORDER BY [STRINGS_VIEW].[VERSION] DESC )"
L"), [VOICEOVER_NAME], RTRIM( [VOICEOVER_NAME] ) + '_face' FROM [STRING_INFO] WHERE [STRING_INFO].[STRING_ID] = %PARAM_STRID%";

WCHAR* lanquagePackDataQueryDeep = 
L"SELECT COALESCE("
L"( SELECT TOP 1 [STRINGS_VIEW].[TEXT] FROM [STRINGS_VIEW] WHERE [STRINGS_VIEW].[STRING_ID] = [STRING_INFO].[STRING_ID] AND [STRINGS_VIEW].[LANG] = %PARAM_LANG% ORDER BY [STRINGS_VIEW].[VERSION] DESC ),"
L"( SELECT TOP 1 '[' + [FALLBACKS].[FALLBACK_LANG] + '] ' + [STRINGS_VIEW].[TEXT] FROM [STRINGS_VIEW] INNER JOIN [FALLBACKS] ON [STRINGS_VIEW].[LANG] = [FALLBACKS].[FALLBACK_ID] "
L"WHERE [STRINGS_VIEW].[STRING_ID] = [STRING_INFO].[STRING_ID] AND [FALLBACKS].[ID] = %PARAM_LANG% ORDER BY [STRINGS_VIEW].[VERSION] DESC ),"
L"( SELECT TOP 1 '[' + f1.[FALLBACK_LANG] + '] ' + [STRINGS_VIEW].[TEXT] FROM [STRINGS_VIEW] INNER JOIN [FALLBACKS] f1 ON [STRINGS_VIEW].[LANG] = f1.[FALLBACK_ID] "
L"INNER JOIN [FALLBACKS] f2 ON f1.[ID] = f2.[FALLBACK_ID]" 
L"WHERE [STRINGS_VIEW].[STRING_ID] = [STRING_INFO].[STRING_ID] AND f2.[ID] = %PARAM_LANG% ORDER BY [STRINGS_VIEW].[VERSION] DESC )"
L"), [VOICEOVER_NAME], RTRIM( [VOICEOVER_NAME] ) + '_face' FROM [STRING_INFO] WHERE [STRING_INFO].[STRING_ID] = %PARAM_STRID%";


WCHAR*	allLanguagePacksQuery = 
L"SELECT si.[STRING_ID], "
L"COALESCE( [TEXT], "
L"( SELECT TOP( 1 ) '[' + (SELECT [FALLBACK_LANG] FROM [FALLBACKS] WHERE [ID] = %PARAM_LANG% ) + '] ' + [TEXT] FROM %PARAM_VIEW% sv2 WHERE sv2.[STRING_ID] = si.[STRING_ID] AND [LANG] = ( SELECT [FALLBACK_ID] FROM [FALLBACKS] WHERE [ID] = %PARAM_LANG% ) ORDER BY [VERSION] DESC ), "
L"'' "
L") AS text,"
L"COALESCE( [VOICEOVER_NAME], '' ) AS voiceover, COALESCE( RTRIM( [VOICEOVER_NAME] ) + '_face', '' ) AS lipsync, COALESCE( [STRING_KEY], '' ) AS string_key "
L"FROM %PARAM_VIEW% si "
L"WHERE si.[PROPERTY_NAME] <> 'Comment' AND si.[PROPERTY_NAME] <> 'Line comment' AND si.[PROPERTY_NAME] <> 'Choice line comment' "
L"AND si.LANG = %PARAM_LANG% "
L"ORDER BY [STRING_ID] ASC";

WCHAR* infoCountQuery = L"SELECT COUNT(1) from [STRING_INFO] where [STRING_ID]=%PARAM_STRID%";

WCHAR* isFallbackQuery = 
L"SELECT max([VERSION]) "
L"FROM [STRINGS] WHERE [STRING_ID]=%PARAM_STRID% AND LANG=%PARAM_LANG%";


WCHAR* getLanguagesQuery = 
L"SELECT [LANG], [ID] "
L"FROM [LANGUAGES] ORDER BY [ID]";

WCHAR* getAllIdsQuery = 
L"SELECT DISTINCT [STRING_ID] FROM [STRINGS_VIEW] ORDER BY [STRING_ID]";

WCHAR* getAllStringsQuery = 
L"SELECT [STRING_ID], COALESCE( [FINAL_TEXT], '' ) FROM LOCALIZEDTEXTS WHERE LANG=%PARAM_LANG%";

WCHAR* areStringsFallbacksQuery = 
L"SELECT string_id "
L"FROM [STRINGS] WHERE LANG=%PARAM_LANG% group by [string_id]";

WCHAR* getStringIdByStringKeyQuery =
L"SELECT [STRING_ID] from [STRING_INFO] where [STRING_KEY] = %PARAM_STRINGKEY%";

WCHAR* getAllStringsWithStringKey =
L"SELECT [STRING_ID], [PROPERTY_NAME], [STRING_KEY] FROM [STRING_INFO] WHERE STRING_KEY IS NOT NULL ORDER BY [PROPERTY_NAME], [STRING_KEY]";

WCHAR* getStringKeyByStringIdQuery =
L"SELECT [STRING_KEY] FROM [STRING_INFO] WHERE [STRING_ID] = %PARAM_STRID%";

WCHAR* getAllCategories =
L"SELECT DISTINCT [PROPERTY_NAME] FROM [STRING_INFO]";

WCHAR* getAllCategoriesKeysOnlyCondition =
L"WHERE STRING_KEY IS NOT NULL";

WCHAR* getStringInfoForStringId =
L"SELECT TOP 1 [VOICEOVER_NAME] FROM [STRING_INFO] WHERE [STRING_ID] = %PARAM_STRID%";

WCHAR* stringSearchQuery =
L"SELECT LATEST_STRINGS.STRING_ID, LATEST_STRINGS.TEXT, STRING_INFO.STRING_KEY"
L" FROM LATEST_STRINGS INNER JOIN"
L" STRING_INFO ON LATEST_STRINGS.STRING_ID = STRING_INFO.STRING_ID"
L" WHERE ";

WCHAR* stringSearchLangCondition = 
L"(LATEST_STRINGS.LANG = %PARAM_LANG%)";

WCHAR* stringSearchTextCondition = 
L"(%PARAM_TEXTFIELD% LIKE %PARAM_SEARCH%)";

WCHAR* stringSearchOrderCondition = 
L"ORDER BY %PARAM_ORDERCOL% ASC";

//L"	WHERE        (LATEST_STRINGS.LANG = %PARAM_LANG%) AND ( STRING_INFO.PROPERTY_NAME = 'a' OR STRING_INFO.PROPERTY_NAME = 'b' ) AND (%PARAM_TEXTFIELD% LIKE %PARAM_SEARCH%)";